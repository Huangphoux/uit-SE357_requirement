@startuml SignUp
title <font size=24>Sign Up Sequence (MVP - No Email Verification)</font>
skinparam sequenceMessageAlign center
autonumber

actor User as act
boundary SignUp_Page as page
participant ":AuthRouter" as router
control AuthController as controller
participant AuthService as service
database Database as db

loop Input invalid
    act -> page: Enter name, email, password and click "Sign Up" button
    activate page
    page -> page: Client-side validation
    activate page
    deactivate page
    autonumber 3
    page --> act: Display validation errors
end

autonumber 4
page -> router: POST /api/auth/register
activate router
router -> controller: register(req, res)
activate controller
controller -> service: register(name, email, password)
activate service
service -> db: Check if email exists
activate db
db --> service: Return existing user or null
deactivate db

opt Email already registered
    autonumber 9.1
    service --> controller: Throw error "Email already exists"
    controller --> router: Send.error("Email already exists")
    router --> page: 400 Error response
    page --> act: Show error message
end

autonumber 10
service -> service: Hash password with bcrypt
service -> db: Create user (role: STUDENT)
activate db
db --> service: Return new user
deactivate db
service --> controller: Return {id, name, email}
deactivate service
controller --> router: Send.success(user, "User registered")
deactivate controller
router --> page: 200 Success response
deactivate router
page --> act: Show success message
act -> page: Click "Go to Login"
page --> act: Navigate to login page
deactivate page

note right of page
  MVP: No email verification
  User can login immediately
  Role defaults to STUDENT
end note

@enduml